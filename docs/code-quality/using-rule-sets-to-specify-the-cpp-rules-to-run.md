---
title: "使用規則集指定要執行的 C++ 規則 | Microsoft Docs"
ms.custom: ""
ms.date: "12/16/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-devops-test"
ms.tgt_pltfrm: ""
ms.topic: "article"
ms.assetid: ac3877e6-5349-4c03-9541-3d5be259f1e8
caps.latest.revision: 5
caps.handback.revision: 5
author: "corob-msft"
ms.author: "corob"
manager: "ghogen"
---
# 使用規則集指定要執行的 C++ 規則
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

在 [!INCLUDE[vsPreShort](../code-quality/includes/vspreshort_md.md)] 和 [!INCLUDE[vsUltShort](../code-quality/includes/vsultshort_md.md)] 中，您可以建立和修改自訂「*規則集*」\(Rule Set\)，以符合與程式碼分析相關聯的特定專案需求。  若要建立自訂 C\+\+ 規則集， C\/C\+\+ 專案必須在 Visual Studio IDE中開啟。  您開啟在規則集編輯器中的標準規則集然後再加入或刪除特定的規則和選擇性地將發生的動作，在程式碼分析判斷規則會違反的規則。  
  
 若要建立新的自訂規則集，您必須使用新的檔案名稱來儲存。  自訂規則集會自動指派給專案。  
  
## 開啟規則集編輯器  
  
#### 若要從單一現有規則集建立自訂規則  
  
1.  在 \[方案總管\] 中，開啟專案的捷徑功能表，然後選擇 \[**屬性**\]。  
  
2.  在 \[**屬性**\] 索引標籤上，選取 \[**程式碼分析**\]。  
  
3.  在 \[**規則集**\] 下拉式清單中，執行下列其中一項操作：  
  
    -   選擇您想要自訂的規則集。  
  
     \-或\-  
  
    -   選擇 \[**\<瀏覽\>**\] 以指定不在清單中的現有規則集。  
  
4.  選取 \[**開啟**\]，在規則集編輯器中顯示規則。  
  
#### 若要在規則集編輯器中修改規則集  
  
-   若要變更規則集的顯示名稱，請選取 \[**檢視**\] 功能表上的 \[**屬性視窗**\]。  在 \[**名稱**\] 方塊中輸入顯示名稱。  請注意，顯示名稱和檔案名稱可以不相同。  
  
-   若要將群組的所有規則都加入至自訂規則集，請選取該群組的核取方塊。  若要移除群組的所有規則，請清除其核取方塊。  
  
-   若要將特定規則加入至自訂規則集，請選取該規則的核取方塊。  若要從規則集中移除規則，請清除其核取方塊。  
  
-   若要變更程式碼分析發現規則違規時所採取的動作，請選取規則的 \[**動作**\] 欄位，然後選取下列其中一個值：  
  
     **Warn** \- 產生警告。  
  
     **Error** \- 產生錯誤。  
  
     **None** \- 停用規則。  這個動作相當於從規則集中移除規則。  
  
#### 若要使用規則集編輯器工具列，在規則集編輯器中分組、篩選或變更欄位  
  
-   若要展開所有群組中的規則，請選取 \[**全部展開**\]。  
  
-   若要摺疊所有群組中的規則，請選取 \[**全部摺疊**\]。  
  
-   若要變更規則分組依據的欄位，請從 \[**群組依據**\] 清單中選取欄位。   若要顯示未分組的規則，請選取 \[**\<無\>**\]。  
  
-   若要在規則資料行中加入或移除欄位，請選取 \[**資料行選項**\]。  
  
-   若要隱藏不會套用至目前方案的規則，請選取 \[**隱藏不會套用到目前方案的規則**\]。  
  
-   若要在顯示和隱藏被指派錯誤動作的規則之間切換，請選取 \[**顯示可以產生程式碼分析錯誤的規則**\]。  
  
-   若要在顯示和隱藏被指派警告動作的規則之間切換，請選取 \[**顯示可以產生程式碼分析警告的規則**\]。  
  
-   若要在顯示和隱藏被指派 \[**無**\] 動作的規則之間切換，請選取 \[**顯示尚未啟用的規則**\]。  
  
-   若要在目前的規則集中加入或移除 Microsoft 預設規則集，請選取 \[**加入或移除子規則集**\]。