---
title: "如何：管理專案中的本機資料檔 | Microsoft Docs"
ms.custom: ""
ms.date: "09/21/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.data.LocalConnectionConverter"
dev_langs: 
  - "VB"
  - "CSharp"
  - "C++"
  - "aspx"
helpviewer_keywords: 
  - ".mdb 檔案"
  - ".mdf 檔案"
  - "資料 [Visual Studio], 本機"
  - "區域資料"
  - "mdb 檔"
  - "mdf 檔案"
ms.assetid: 3ffa1aa9-17e4-422c-a02f-09224828cdfc
caps.latest.revision: 29
caps.handback.revision: 27
author: "mikeblome"
ms.author: "mblome"
manager: "ghogen"
robots: noindex,nofollow
---
# 如何：管理專案中的本機資料檔
本機資料庫檔案可以當做檔案包含在專案中。  當您首次將應用程式連接至本機資料庫檔案時，您可以選擇在專案中建立一個資料庫的複本，或是連接至位於目前位置的現有資料庫檔案。  如果您選擇連接至現有的檔案，便會建立一個與連接至任何遠端資料庫一樣的連接，同時資料庫檔案會保持在原來的位置。  如果您選擇將資料庫複製到專案中，Visual Studio 會建立一個資料庫檔案的複本、將複本加入您的專案，並修改連接，使連接指向專案中的資料庫 \(相對於資料庫檔案的原始位置\)。  
  
> [!NOTE]
>  \[**伺服器總管**\]\/\[資料庫總管\] 中的現有資料連接，也會修改為指向專案中的資料庫檔案 \(資料庫檔案位於專案的根資料夾中\)。  
  
 當您建置專案時，可能會將資料庫檔從根專案資料夾複製到輸出 \(\[**bin**\]\) 資料夾\(在 \[**方案總管**\] 內選取 \[**顯示所有檔案**\]，檢視 \[**bin**\] 資料夾\)。這個行為是以檔案的 \[**複製到輸出目錄**\] 屬性設定為基礎。  屬性的預設設定取決於您要使用的資料庫檔類型。  
  
> [!NOTE]
>  \[**複製到輸出目錄**\] 屬性的行為並不會套用到 Web 或 C\+\+ 專案。  
  
 在應用程式開發期間，對資料所做的任何變更 \(在應用程式的執行階段中\) 都會套用至 \[**bin**\] 資料夾中的資料庫。  例如，當您按 F5 鍵偵錯應用程式時，便會連接至 \[**bin**\] 資料夾中的資料庫。  只有當您使用 \[**伺服器總管**\]、\[**資料庫總管**\] 或其他 [Visual Database Tools](http://msdn.microsoft.com/zh-tw/6b145922-2f00-47db-befc-bf351b4809a1) 編輯資料庫結構描述 \(Database Schema\) 或資料時，才會變更專案根資料夾中的資料庫檔案。  
  
 下表說明 \[**複製到輸出目錄**\] 屬性的設定。  
  
|設定|行為|  
|--------|--------|  
|**有更新時才複製** \(.sdf 檔的預設值\)|在首次建置專案時，資料庫檔案會從專案目錄複製到 \[**bin**\] 目錄中。  之後每次建置專案時，都會比較檔案的 \[**修改日期**\] 屬性。  如果專案資料夾中的檔案較新，便會複製到 \[**bin**\] 資料夾中取代目前的檔案。  如果 \[**bin**\] 資料夾中的檔案較新，便不會複製任何檔案。  這項設定會保留在執行階段時所做的任何變更，也就是說，在您每次執行應用程式並儲存資料變更後，下次執行應用程式時便會看見這些變更。 **Caution:**  這個選項不建議使用於 .mdb 或 .mdf 檔案。  即使對資料沒有做任何變更，資料庫檔案也可能會變更。  只要在資料檔案上開啟連接 \(例如，在 \[**伺服器總管**\] 中展開 \[**資料表**\] 節點\)，就可以將它標記為較新的。|  
|**永遠複製** \(.mdf 和 .mdb 檔案的預設值\)|在每次建置應用程式時，都會將資料庫檔案從專案目錄複製到 \[\/bin\] 目錄中。  因此，如果您建置應用程式並將變更儲存到 \/bin 目錄中的檔案，則下次原始檔案複製到 \/bin 目錄時就會覆寫這些變更。|  
|**不要複製**|專案系統不會複製或覆寫檔案。  如果您使用這個設定，您必須手動將檔案從專案目錄複製到輸出目錄。|  
  
## 程序  
  
#### 若要回應本機資料庫檔案對話方塊  
  
-   如果您要 Visual Studio 將資料庫檔案複製到專案中，並修改連接以指向專案中的複本，請按一下 \[**是**\]。  如需處理專案中的資料庫檔案的詳細資訊，請參閱[區域資料概觀](../data-tools/local-data-overview.md)。  
  
-   如果您不要 Visual Studio 將資料庫檔案複製到專案中，請按一下 \[**否**\]。  這樣，連接就會指向位於原來位置的檔案，而資料庫檔案則未加入成為專案的檔案。  
  
## 請參閱  
 [逐步解說：連接至本機資料庫檔案中的資料 \(Windows Form\)](../Topic/Walkthrough:%20Connecting%20to%20Data%20in%20a%20Local%20Database%20File%20\(Windows%20Forms\).md)   
 [逐步解說：連接至 Access 資料庫中的資料 \(Windows Form\)](../data-tools/connect-to-data-in-an-access-database-windows-forms.md)