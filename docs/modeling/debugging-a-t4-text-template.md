---
title: "偵錯 T4 文字範本 |Microsoft 文件"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- text templates, troubleshooting
- text templates, debugging
ms.assetid: 0877fdf2-20bf-42da-b3cc-4c5856b80821
caps.latest.revision: 28
author: alancameronwills
ms.author: awills
manager: douge
translation.priority.ht:
- cs-cz
- de-de
- es-es
- fr-fr
- it-it
- ja-jp
- ko-kr
- pl-pl
- pt-br
- ru-ru
- tr-tr
- zh-cn
- zh-tw
translationtype: Machine Translation
ms.sourcegitcommit: 5db97d19b1b823388a465bba15d057b30ff0b3ce
ms.openlocfilehash: 5b6cb4a83e6aa06f6b29987893232d8b6e203c56
ms.lasthandoff: 02/22/2017

---
# <a name="debugging-a-t4-text-template"></a>偵錯 T4 文字範本
您可以在文字範本中設定中斷點。 若要偵錯設計階段文字範本，儲存文字範本檔案，然後按一下**偵錯 T4 範本**快顯功能表的 [方案總管] 中的檔案。 若要偵錯執行階段文字範本，只是偵錯它所屬的應用程式。  
  
 若要偵錯文字範本，您應該了解範本轉換程序的步驟。 在每一個步驟就會發生不同類型的錯誤。 步驟如下所示。  
  
|步驟|設計階段範本︰ 當發生|執行階段範本︰ 當發生|  
|----------|--------------------------------------------|-----------------------------------------|  
|從文字範本產生程式碼。<br /><br /> 指示詞中的錯誤或不相符，或是得紊亂不堪`<#…#>`標記。|當您儲存範本，或叫用的文字轉換。|當您儲存範本，或叫用的文字轉換。|  
|產生的程式碼會編譯。<br /><br /> 在您的範本程式碼的編譯錯誤。|後面的上一個步驟。|以及您的應用程式程式碼。|  
|執行程式碼。<br /><br /> 樣板程式碼中的執行階段錯誤。|後面的上一個步驟。|當您的應用程式執行，並叫用的範本程式碼。|  
  
 在大部分情況下，範本程式碼行號會提供錯誤報告。 當錯誤報表參考的暫存檔案名稱時，常見的原因是不相符的括號中的文字範本的程式碼。  
  
 您可以在文字範本中設定中斷點，並以一般方式偵錯。  
  
## <a name="common-errors-and-fixes"></a>常見的錯誤和修正程式  
 下表列出最常見的錯誤和其修正程式。  
  
|錯誤訊息|描述|方案|  
|-------------------|-----------------|--------------|  
|無法載入轉換類別所繼承的基底類別 '{0}'。|如果找不到指定的基底類別就會發生`inherits`範本指示詞中的參數。 訊息會提供範本指示詞的行號。|請務必指定的類別是否存在，以及它存在於組件，會在組件指示詞指定。|  
|無法解析下列檔案的 Include 文字: {0}|當您找不到包含的範本。 訊息會提供要求的 include 檔的名稱。|請確定檔案路徑是相對於原始範本的路徑，或該檔案是在已註冊的主機，位置是檔案的完整路徑。|  
|初始化轉換物件時產生錯誤。 將不會執行轉換。|發生於 'Initialize （）' 轉換類別的失敗或傳回 false。|Initialize （） 函式中的程式碼中指定的基底的轉換類別是來自\<#@template#> 指示詞，指示詞處理器。 造成錯誤的初始化失敗可能是在錯誤清單。 請調查失敗的原因。 您可以查看實際產生的程式碼的 initialize （） 遵循偵錯範本的程序。|  
|組件 '{0}' 指示詞處理器 '{1 \}' 未被授予完全信任權限集合。 只有受信任的組件可提供指示詞處理器。 這個指示詞處理器不會載入。|發生於系統不授與 FullTrust 權限包含指示詞處理器的組件。 訊息會提供組件的名稱和指示詞處理器的名稱。|請確定您只使用本機電腦上的受信任的組件。|  
|路徑 '{0}' 必須是本機，或是信任區域的一部分。|發生於指示詞或組件指示詞參考不在本機電腦或網路的受信任的區域上的檔案。|請確定指示詞或組件指示詞的所在位置的目錄是受信任的區域。 您可以將網路目錄新增至您透過 Internet Explorer 的信任區域。|  
|例如 「 無效語彙基元 ' catch' 」 或 「 命名空間不能直接包含成員 」 的多個語法錯誤|太多樣板程式碼中的右括號。 編譯器會混淆它使用標準的產生程式碼。|檢查關閉大括號和方括號內的程式碼分隔符號的數字。|  
|迴圈或條件未編譯或執行正確。 例如：`<#if (i>10)#> Number is: <#= i #>`。<br /><br /> 此程式碼一律會輸出值我。 只有 「 數字是: 「 條件式。|在 C# 中，一律使用大括號包圍內嵌在控制陳述式中的文字區塊。|加入括號︰ `<#if (i>10) { #>    Number is: <#= i #><# } #>`。|  
|「 運算式太複雜 」 時處理設計階段範本或編譯執行階段 （前置處理過的） 範本。<br /><br /> [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]嘗試檢查執行階段範本所產生的程式碼時停止運作。|文字區塊名稱太長。 T4 將文字區塊轉換成具有一個字串常值的範本中的每一行字串串連運算式。 很長的文字區塊可以逾越編譯器的大小限制。|分割長文字區塊，加上一個運算式區塊，例如︰<br /><br /> `<#= "" #>`|  
  
## <a name="warning-descriptions-and-fixes"></a>警告的說明和修正程式  
 下表列出最常見的警告，以及修正程式，如果有的話。  
  
|警告訊息|描述|方案|  
|---------------------|-----------------|--------------|  
|載入包含檔案 '{0}' 傳回 null 或空字串。|如果包含的文字範本檔案是空白，就會發生。 訊息會提供包含檔案的檔案名稱。|移除 include 指示詞，或確定檔案有一些內容。|  
|正在編譯轉換:|前面加上所有的錯誤或警告源自編譯器在編譯的轉換時，這個字串。 這個字串是指編譯器發生錯誤或警告。|如果您有問題，找出 DLL 時，您可能需要提供的完整路徑或完整的強式名稱，如果該 DLL 是在 GAC 中。|  
|參數 '{0}' 已經存在於指示詞。 將忽略重複的參數。|發生於超過一次在指示詞中指定的參數。 訊息會提供參數和行號指示詞的名稱。|移除重複的參數規格。|  
|載入包含檔案 '{0}' 時發生錯誤。 Include 指示詞會被忽略。|找不到檔案中指定時，會發生`include`指示詞。 訊息會提供檔案和行號指示詞的名稱。|請務必 include 檔存為原始的文字範本檔案相同的目錄中或其中一種向主應用程式的 include 目錄。|  
|無效的基底類別指定的轉換類別。 基底類別必須衍生自 Microsoft.VisualStudio.TextTemplating.TextTransformation。|發生於當`inherits`參數在範本指示詞中的指定不會繼承的類別`TextTransformation`。 訊息會提供範本指示詞的行號。|指定類別衍生自`TextTransformation`。|  
|'Template' 指示詞中指定了無效的文化特性。 文化特性必須是"xx XX"格式。 將使用文化特性而異。|發生於在範本指示詞中的文化特性參數指定不正確。 訊息會提供範本指示詞的行號。|將文化特性參數變更為有效的文化特性"xx XX"格式。|  
|在範本指示詞中指定了無效的偵錯的值 ' {0} '。 偵錯值必須是"true"或"false"。 將使用預設值是"false"。|發生於當`debug`參數在範本指示詞中的指定不正確。 訊息會提供範本指示詞的行號。|偵錯將參數設定為"true"或"false"。|  
|在範本指示詞中指定了無效的 HostSpecific 值 ' {0} '。 HostSpecific 值必須是"true"或"false"。 將使用預設值是"false"。|發生於當中的主機專用參數`template`指示詞指定不正確。 訊息會提供範本指示詞的行號。|主機專用將參數設定為"true"或"false"。|  
|'Template' 指示詞中指定了無效的語言 ' {0} '。 語言必須是"C#"或"VB"。 將使用"C#"的預設值。|不支援的語言中指定時，就會發生`template`指示詞。 只有"C#"或"VB"允許 （不區分大小寫）。 訊息會提供範本指示詞的行號。|設定`language`"C#"或"VB"將範本指示詞的參數。|  
|找不到範本中的多個輸出指示詞。 第一個以外的所有都會被忽略。|發生於當多個`output`指示詞會指定範本檔案中。 訊息會提供重複的輸出指示詞的行號。|移除重複項目`output`指示詞。|  
|找不到範本中的多個範本指示詞。 第一個以外的所有都會被忽略。 範本指示詞的多個參數應該指定一個範本指示詞中。|如果您指定多個就會發生`template`文字範本檔 （包括內含的檔案） 中的指示詞。 訊息會提供重複的範本指示詞的行號。|彙總不同`template`成一個指示詞`template`指示詞。|  
|名為 '{0}' 指示詞未不指定任何處理器。 指示詞會被忽略。|如果您指定，就會發生`custom`指示詞，但不是提供`processor`屬性。 訊息會提供指示詞和行號的名稱。|提供`processor`屬性的名稱`directive`指示詞處理器。|  
|找不到名為 '\ {1 \' 指示詞處理器，名為 ' {0} '。 指示詞會被忽略。|發生於系統找不到`directive`內指定的處理器`custom`指示詞。 訊息會提供指示詞名稱、 處理器名稱和行號指示詞。|設定`processor`指示詞處理器的名稱將指示詞的屬性。|  
|找不到必要的參數 '{0}' 指示詞 '{1 \}'。 指示詞會被忽略。|發生於系統不提供必要的參數，指示詞。 訊息會提供遺漏參數的名稱、 指示詞名稱和行號。|提供遺漏的參數。|  
|名為 '{0}' 處理器不支援名為 '\ {1 \' 指示詞。 指示詞會被忽略。|發生於指示詞處理器不支援的指示詞。 訊息會提供的名稱和行號指示詞處理器的名稱以及有問題的指示詞。|修正指示詞的名稱。|  
|檔案 '{0}' include 指示詞會造成無限迴圈。|若是在循環 include 指示詞會指定 （例如，檔案的包含檔案 B，其中包含檔案 A）。|未指定循環 include 指示詞。|  
|正在執行轉換:|前面加上此字串，以便所有的錯誤或警告時執行轉換所產生的。|不適用。|  
|在區塊內找不到未預期的開始或結束標記。 請確定，您未正確輸入開始或結束標記，而且您不需要任何巢狀的區塊在範本中。|您可以在非預期時顯示\<# >。 也就是說，如果您有\<# 之後另一個開啟的標記尚未關閉，或者您有 #> 之前沒有未封閉開啟標記時。 訊息會提供不相符的標記的行號。|移除不相符的開始或結束標記，或使用逸出字元。|  
|指示詞指定格式錯誤。 指示詞會被忽略。 請指定指示詞格式`<#@ name [parametername="parametervalue"]*  #>`|如果指示詞未指定正確的格式，顯示剖析器。 訊息會提供不正確的指示詞的行號。|請務必在表單中的所有指示詞會`<#@ name [parametername="parametervalue"]*  #>`。 如需詳細資訊，請參閱[T4 文字範本指示詞](../modeling/t4-text-template-directives.md)。|  
|無法載入組件 '{0}' 指示詞處理器的已註冊 '{1 \}'<br /><br /> {2}|發生於指示詞處理器無法載入主應用程式。 訊息會識別組件提供指示詞處理器的指示詞處理器的名稱。|請確定已正確註冊指示詞處理器，並有組件。|  
|中找不到類型 '{0}' 組件 '{1 \}' 已註冊指示詞處理器 '{2 \}'<br /><br /> {3}|發生於指示詞處理器的型別無法載入組件。 訊息會提供類型、 組件，以及指示詞處理器的名稱。|Vshost 會在登錄中尋找指示詞處理器資訊 （名稱、 組件和類型）。 請務必正確地註冊指示詞處理器和型別存在於組件。|  
|載入組件 '{0}' 時發生錯誤|發生於載入組件發生問題。 訊息會提供組件名稱。|您可以指定要載入的組件\<@# assembly #> 指示詞，並指示詞處理器。 此字串的後面的錯誤訊息應該提供更多資料組件載入失敗的原因。|  
|無法建立和初始化名為 '{1 \}' 的指示詞處理器。 處理器的類型為 {0}。 指示詞會被忽略。|發生於系統無法建立或初始化指示詞處理器。 訊息會提供的名稱和行號指示詞和處理器的類型。|請確定使用正確的指示詞處理器，並指示詞處理器具有公用預設建構函式。 若要找出指示詞處理器的 initialize （） 方法失敗的原因，否則使用偵錯選項。 如需詳細資訊，請參閱[疑難排解文字範本](../modeling/debugging-a-t4-text-template.md)。|  
|處理名稱為 '{0}' 指示詞時，擲回例外狀況。|指示詞處理器在處理指示詞時，會擲回例外狀況時發生。|請務必指示詞處理器的參數正確。|  
|主應用程式擲回例外狀況，正在嘗試解析組件參考 ' {0} '。|發生於主應用程式在嘗試解析組件參考時，會擲回例外狀況。 訊息會提供組件參考的字串。|組件參考來自\<@# assembly #> 指示詞和指示詞處理器。 請確定組件參數中提供的 'name' 參數正確。|  
|嘗試指定不支援 \ {1 \ 值 '{0}' 指示詞 \ {2 \|發生 RequiresProvidesDirectiveProcessor （全部產生指示詞處理器，我們從它衍生），當您提供不支援要求和提供引數。|請務必，名稱中 name = 'value' 中提供的組需要並提供參數是否正確。|
